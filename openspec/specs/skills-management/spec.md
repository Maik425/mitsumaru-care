## ADDED Requirements

### Requirement: 技能マスター管理機能

システム管理者および施設管理者は、技能マスターを登録・管理できる。

#### Scenario: 施設管理者による技能登録

- **WHEN** 施設管理者が新しい技能情報を入力して登録ボタンをクリック
- **THEN** skillsテーブルにレコードが追加される
- **AND** 作成された技能は施設管理者の所属施設に自動的に紐づけられる

#### Scenario: システム管理者による技能登録

- **WHEN** システム管理者が新しい技能情報を入力して登録ボタンをクリック
- **THEN** skillsテーブルにレコードが追加される
- **AND** システム管理者は任意の施設を選択して技能を紐づけられる

#### Scenario: 技能登録時のバリデーション

- **WHEN** 必須項目が未入力または無効な値が入力された場合
- **THEN** 適切なエラーメッセージが表示される
- **AND** 技能登録は実行されない

### Requirement: 技能一覧表示機能

管理者は、管理対象の技能一覧を表示できる。

#### Scenario: 施設管理者による技能一覧表示

- **WHEN** 施設管理者が技能管理画面にアクセス
- **THEN** 所属施設の技能のみが一覧表示される
- **AND** 各技能の基本情報（名前、カテゴリー、レベル、説明）が表示される

#### Scenario: システム管理者による技能一覧表示

- **WHEN** システム管理者が技能管理画面にアクセス
- **THEN** 全施設の技能が一覧表示される
- **AND** 施設別フィルタリング機能が利用できる

### Requirement: 技能編集機能

管理者は、既存の技能情報を編集できる。

#### Scenario: 技能情報の更新

- **WHEN** 管理者が技能情報を編集して保存ボタンをクリック
- **THEN** skillsテーブルの該当レコードが更新される
- **AND** 変更内容が即座に一覧に反映される

#### Scenario: 権限による編集制限

- **WHEN** 施設管理者が他施設の技能情報を編集しようとした場合
- **THEN** エラーメッセージが表示される
- **AND** 編集は実行されない

### Requirement: 技能削除機能

管理者は、不要になった技能を削除できる。

#### Scenario: 技能の削除

- **WHEN** 管理者が技能削除ボタンをクリックして確認する
- **THEN** skillsテーブルからレコードが削除される
- **AND** 関連する職員技能情報も削除される（外部キー制約による）

### Requirement: 職員技能管理機能

管理者は、職員に技能を割り当て・管理できる。

#### Scenario: 職員への技能追加

- **WHEN** 管理者が職員に新しい技能を追加する
- **THEN** user_skillsテーブルにレコードが追加される
- **AND** 職員の技能一覧に即座に反映される

#### Scenario: 職員技能の更新

- **WHEN** 管理者が職員の技能レベルや経験年数を更新する
- **THEN** user_skillsテーブルの該当レコードが更新される
- **AND** 変更内容が即座に反映される

#### Scenario: 職員からの技能削除

- **WHEN** 管理者が職員から技能を削除する
- **THEN** user_skillsテーブルから該当レコードが削除される
- **AND** 職員の技能一覧から即座に削除される

### Requirement: 職員技能一覧表示機能

管理者は、職員の技能一覧を表示できる。

#### Scenario: 職員技能一覧の表示

- **WHEN** 管理者が職員技能管理画面にアクセス
- **THEN** 所属施設の職員とその技能が一覧表示される
- **AND** 各職員の技能レベル、経験年数、認定状況が表示される

#### Scenario: 技能別フィルタリング

- **WHEN** 管理者が特定の技能でフィルタリングする
- **THEN** 該当技能を持つ職員のみが表示される

## MODIFIED Requirements

### Requirement: 職員管理システム

既存の職員管理システムに技能管理機能を統合する。

#### Scenario: 職員詳細画面での技能表示

- **WHEN** 管理者が職員の詳細情報を表示する
- **THEN** その職員の技能一覧も併せて表示される
- **AND** 技能の追加・編集・削除が可能である

#### Scenario: 技能要件に基づく職員検索

- **WHEN** 管理者が特定の技能要件で職員を検索する
- **THEN** 該当する技能を持つ職員が検索結果に表示される
- **AND** 技能レベルや経験年数による絞り込みが可能である
