<!-- OPENSPEC:START -->

# OpenSpec Instructions

These instructions are for AI assistants working in this project.

Always open `@/openspec/AGENTS.md` when the request:

- Mentions planning or proposals (words like proposal, spec, change, plan)
- Introduces new capabilities, breaking changes, architecture shifts, or big performance/security work
- Sounds ambiguous and you need the authoritative spec before coding

Use `@/openspec/AGENTS.md` to learn:

- How to create and apply change proposals
- Spec format and conventions
- Project structure and guidelines

Keep this managed block so 'openspec update' can refresh the instructions.

<!-- OPENSPEC:END -->

# AGENTS.md

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½œæ¥­ã™ã‚‹éš›ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã™ã€‚

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯`src`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ï¼š

```
mitsumaru-care/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/           # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ system/    # ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…å‘ã‘ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ facility/  # æ–½è¨­ç®¡ç†è€…å‘ã‘ãƒšãƒ¼ã‚¸ï¼ˆæ—§adminï¼‰
â”‚   â”‚   â”œâ”€â”€ user/      # ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ api/       # API ãƒ«ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ layout.tsx # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â””â”€â”€ page.tsx   # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ components/    # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ui/        # shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ *.tsx      # ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ lib/          # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚   â”œâ”€â”€ hooks/        # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â””â”€â”€ styles/       # ã‚¹ã‚¿ã‚¤ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ public/           # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆç”»åƒã€ã‚¢ã‚¤ã‚³ãƒ³ãªã©ï¼‰
â”œâ”€â”€ tsconfig.json     # TypeScriptè¨­å®š
â”œâ”€â”€ next.config.mjs   # Next.jsè¨­å®š
â””â”€â”€ package.json      # ä¾å­˜é–¢ä¿‚
```

## é–‹ç™ºãƒ•ãƒ­ãƒ¼

### ã‚³ãƒ¼ãƒ‰ä¿®æ­£å¾Œã®å¿…é ˆæ‰‹é †

**ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ä¿®æ­£å¾Œã¯ã€å¿…ãšä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼š**

```bash
pnpm exec tsc
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚Šã€TypeScriptã®å‹ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¢ºèªã§ãã¾ã™ã€‚

### æ¨å¥¨ã•ã‚Œã‚‹ä½œæ¥­æ‰‹é †

1. **ä¿®æ­£å‰ã®ç¢ºèª**

   ```bash
   pnpm exec tsc
   ```

2. **ã‚³ãƒ¼ãƒ‰ã®ä¿®æ­£**
   - ãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†
   - æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¿½åŠ 
   - æ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä¿®æ­£

3. **ä¿®æ­£å¾Œã®ç¢ºèª**

   ```bash
   pnpm exec tsc
   ```

4. **ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆ**
   - TypeScriptã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£
   - å†åº¦ `pnpm exec tsc` ã‚’å®Ÿè¡Œ
   - ã‚¨ãƒ©ãƒ¼ãŒè§£æ¶ˆã•ã‚Œã‚‹ã¾ã§ç¹°ã‚Šè¿”ã—

## é‡è¦ãªè¨­å®š

### TypeScriptè¨­å®š

- `@/*` ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¯ `./src/*` ã‚’æŒ‡ã—ã¾ã™
- å³å¯†ãªå‹ãƒã‚§ãƒƒã‚¯ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã¾ã™

### Next.jsè¨­å®š

- App Routerã‚’ä½¿ç”¨
- TypeScriptã‚¨ãƒ©ãƒ¼ã¯ç„¡è¦–ã•ã‚Œã¾ã›ã‚“ï¼ˆé–‹ç™ºæ™‚ã¯ç¢ºèªãŒé‡è¦ï¼‰

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

- shadcn/ui ã‚’ä½¿ç”¨
- ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ `src/components/` ã«é…ç½®
- UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ `src/components/ui/` ã«é…ç½®

## æ³¨æ„äº‹é …

1. **ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹**: `@/components/...` å½¢å¼ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ãã ã•ã„
2. **å‹å®‰å…¨æ€§**: ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§é©åˆ‡ãªå‹å®šç¾©ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„
3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: TypeScriptã‚¨ãƒ©ãƒ¼ã¯å¿…ãšä¿®æ­£ã—ã¦ãã ã•ã„
4. **ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ **: æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã¯é©åˆ‡ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ã—ã¦ãã ã•ã„
5. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°**: æ©Ÿèƒ½å®Ÿè£…å¾Œã¯å¿…ãš `docs/PR/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ã—ã¦ãã ã•ã„
6. **tasks.mdæ›´æ–°**: å®Ÿè£…å®Œäº†å¾Œã¯å¿…ãš `openspec/changes/*/tasks.md` ã‚’æ›´æ–°ã—ã¦å®Œäº†ã‚¿ã‚¹ã‚¯ã‚’ãƒãƒ¼ã‚¯ã—ã¦ãã ã•ã„

## ğŸš« ç¦æ­¢äº‹é …

### Gitæ“ä½œã®ç¦æ­¢

**é‡è¦**: ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ä»¥ä¸‹ã®gitæ“ä½œã¯**çµ¶å¯¾ã«ç¦æ­¢**ã§ã™ï¼š

- `git add`
- `git commit`
- `git push`
- `git pull`
- `git merge`
- `git rebase`
- `git checkout`
- `git branch`
- `git tag`
- ãã®ä»–ã™ã¹ã¦ã®gitã‚³ãƒãƒ³ãƒ‰

**ç†ç”±**:

- ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´å±¥æ­´ã¯è‡ªå‹•çš„ã«ç®¡ç†ã•ã‚Œã‚‹
- æ‰‹å‹•ã§ã®gitæ“ä½œã¯ç«¶åˆã‚„ä¸æ•´åˆã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚‹
- å®Ÿè£…ã«é›†ä¸­ã—ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã¯åˆ¥é€”è¡Œã†

**é•åæ™‚ã®å¯¾å¿œ**:

- gitæ“ä½œã‚’æ¤œå‡ºã—ãŸå ´åˆã¯å³åº§ã«åœæ­¢
- å®Ÿè£…ä½œæ¥­ã®ã¿ã«é›†ä¸­ã™ã‚‹

## ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ã®æ–¹é‡

Supabase ã‚’ã€Œèªè¨¼ã‚µãƒ¼ãƒ“ã‚¹ã€ã¨ã€ŒPostgreSQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€ã¨ã—ã¦åˆ©ç”¨ã—ã¤ã¤ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã¯ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢å®Ÿè£…ã¸å¯†çµåˆã—ãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚

- **æŠ½è±¡åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: `src/data/**` ã«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆä¾‹: `AttendanceDataSource`ï¼‰ã‚’å®šç¾©ã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ã¯ã“ã®æŠ½è±¡ã«ä¾å­˜ã™ã‚‹ã‚ˆã†å®Ÿè£…ã—ã¾ã™ã€‚ç¾åœ¨ã¯ Supabase ç‰ˆ (`SupabaseAttendanceDataSource`) ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€å°†æ¥ã¯ä»–ã‚µãƒ¼ãƒ“ã‚¹ã«å·®ã—æ›¿ãˆå¯èƒ½ã§ã™ã€‚
- **ãƒªãƒã‚¸ãƒˆãƒªå±¤ã®åˆ†é›¢**: tRPC ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚„ React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ã¯ `AttendanceRepository` ãªã©ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ä»‹ã—ã¦ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªã¯ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚’æ³¨å…¥ã™ã‚‹ã“ã¨ã§ã€Supabase ä»¥å¤–ã®å®Ÿè£…ã«ã‚‚å¯¾å¿œã—ã‚„ã™ããªã£ã¦ã„ã¾ã™ã€‚
- **Supabase å›ºæœ‰ãƒ­ã‚¸ãƒƒã‚¯ã®é›†çº¦**: Supabase ã®ã‚¯ã‚¨ãƒªã€RPCã€RLS å‰æã®å‡¦ç†ã¯ Supabase ç”¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å†…ã«é–‰ã˜è¾¼ã‚ã¾ã™ã€‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä»–ã®å±¤ã§ã¯ Supabase ã‚’ç›´æ¥å‚ç…§ã—ã¾ã›ã‚“ã€‚
- **å‹ï¼DTO ã®å…±é€šåŒ–**: `src/lib/dto/**` ã«å®šç¾©ã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¹ã‚­ãƒ¼ãƒã‚’åŸºæº–ã«ã€ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ãƒ»ãƒªãƒã‚¸ãƒˆãƒªãŒåŒã˜å‹ã‚’å…±æœ‰ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒå¤‰ã‚ã£ã¦ã‚‚å‹å¥‘ç´„ã‚’ç¶­æŒã—ã‚„ã™ããªã‚Šã¾ã™ã€‚
- **Auth ã«ã¤ã„ã¦**: èªè¨¼ãƒ•ãƒ­ãƒ¼ï¼ˆ`useAuth` ã‚„ Supabase Authï¼‰ã¯ç¾çŠ¶ã®ã¾ã¾ Supabase ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚å°†æ¥çš„ã«èªè¨¼ã‚’å·®ã—æ›¿ãˆã‚‹éš›ã‚‚ã€data å±¤ã®æ§‹é€ ãŒç‹¬ç«‹ã—ã¦ã„ã‚‹ãŸã‚æ®µéšçš„ãªç§»è¡ŒãŒå¯èƒ½ã§ã™ã€‚

## å°†æ¥ã®æ‹¡å¼µ

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯tRPCã‚µãƒ¼ãƒãƒ¼ã¨èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã‚’çµ±åˆæ¸ˆã¿ã§ã™ï¼š

```
src/
â”œâ”€â”€ app/           # Next.js App Router
â”‚   â”œâ”€â”€ system/    # ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…å‘ã‘ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ facility/  # æ–½è¨­ç®¡ç†è€…å‘ã‘ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ user/      # ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒšãƒ¼ã‚¸
â”‚   â””â”€â”€ api/       # API ãƒ«ãƒ¼ãƒˆ
â”œâ”€â”€ components/    # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ lib/          # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”œâ”€â”€ hooks/        # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”œâ”€â”€ server/       # tRPCã‚µãƒ¼ãƒãƒ¼
â””â”€â”€ styles/       # ã‚¹ã‚¿ã‚¤ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«
```

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆãƒ«ãƒ¼ãƒ«

1. **ãƒ•ã‚¡ã‚¤ãƒ«å**: `supabase/migrations/001_initial_schema.sql` å½¢å¼
2. **æ—¥æ™‚ã¯ä¸è¦**: ãƒ•ã‚¡ã‚¤ãƒ«åã«æ—¥æ™‚ã‚’å«ã‚ãªã„
3. **ã¾ã¨ã‚ã¦ä½œæˆ**: é–¢é€£ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã¯1ã¤ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¾ã¨ã‚ã‚‹
4. **é †åº**: ä¾å­˜é–¢ä¿‚ã‚’è€ƒæ…®ã—ã¦ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆé †åºã‚’æ±ºã‚ã‚‹
5. **ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿**: å¿…è¦ã«å¿œã˜ã¦åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã«INSERTæ–‡ã‚’å«ã‚ã‚‹

### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œæ‰‹é †

1. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’Supabaseã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œï¼ˆè‡ªå‹•çš„ã«ãƒªã‚»ãƒƒãƒˆã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ï¼‰
3. ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèª

#### ãƒ­ãƒ¼ã‚«ãƒ«/ãƒªãƒ¢ãƒ¼ãƒˆç’°å¢ƒã§ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œä¾‹

```bash
# .envã«å®šç¾©ã•ã‚ŒãŸURLã‚’ä½¿ã£ã¦Supabaseã«ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åæ˜ 
pnpm exec supabase db push --db-url "postgresql://postgres:Rn1jsdnsEnYKABV5@db.xuojlhzkzzjgguacmdly.supabase.co:5432/postgres"
```

#### tRPC APIã®curlãƒ†ã‚¹ãƒˆæ‰‹é †

1. `.env` ã‹ã‚‰ Supabase èªè¨¼ç”¨ã®å¤‰æ•°ã‚’èª­ã¿è¾¼ã‚€ï¼ˆ`NEXT_PUBLIC_SUPABASE_*` ãªã©ï¼‰

   ```bash
   export $(cat .env | xargs)
   ```

2. Supabase èªè¨¼APIã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ãƒ»ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—

   ```bash
   curl -s -H "Content-Type: application/json" \
     -H "apikey: $NEXT_PUBLIC_SUPABASE_ANON_KEY" \
     -d '{"email":"user@mitsumaru.com","password":"asdfasdf"}' \
     "${NEXT_PUBLIC_SUPABASE_URL}/auth/v1/token?grant_type=password" \
     > /tmp/supabase_session.json
   export ACCESS_TOKEN=$(jq -r '.access_token' /tmp/supabase_session.json)
   ```

3. `holidays.list` ã®å–å¾—

   ```bash
   curl -s -H "Authorization: Bearer $ACCESS_TOKEN" \
     "http://localhost:3000/api/trpc/holidays.list?batch=1&input=%7B%7D"
   ```

4. `holidays.create` ã§æ–°è¦ç”³è«‹ã‚’ä½œæˆï¼ˆ`reason` ã¯æœªå…¥åŠ›æ™‚ `null` ã‚’è¨±å®¹ï¼‰

   ```bash
   curl -s -X POST "http://localhost:3000/api/trpc/holidays.create" \
     -H "Authorization: Bearer $ACCESS_TOKEN" \
     -H "Content-Type: application/json" \
     --data '{"type":"regular","dates":["2025-12-01","2025-12-02"],"reason":null}'
   ```

5. ä½œæˆå¾Œã«å†åº¦ `holidays.list` ã‚’å®Ÿè¡Œã—ã¦åæ˜ ã‚’ç¢ºèª
   ```bash
   curl -s -H "Authorization: Bearer $ACCESS_TOKEN" \
     "http://localhost:3000/api/trpc/holidays.list?batch=1&input=%7B%7D"
   ```

**æ³¨æ„**: `001_initial_schema.sql`ã«ã¯å®Œå…¨ãªãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼š

- æ—¢å­˜ãƒ†ãƒ¼ãƒ–ãƒ«ã®å‰Šé™¤
- Authenticationãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‰Šé™¤
- æ–°ã—ã„ã‚¹ã‚­ãƒ¼ãƒã®ä½œæˆ
- ãƒ†ãƒ¼ãƒ–ãƒ«ã€RLSãƒãƒªã‚·ãƒ¼ã€ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ä½œæˆ

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæƒ…å ±

**é‡è¦**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚„æ¥ç¶šæƒ…å ±ãŒå¿…è¦ãªå ´åˆã¯ã€ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

```bash
cat confidential/supabase-connection.env
```

ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯Supabaseãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ¥ç¶šæƒ…å ±ãŒä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚

- ãƒ•ã‚¡ã‚¤ãƒ«ã¯`confidential/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚Šã€`.gitignore`ã«å«ã¾ã‚Œã¦ãŠã‚Šã€gitã«ã¯ã‚³ãƒŸãƒƒãƒˆã•ã‚Œã¾ã›ã‚“

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### TypeScriptã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆ

1. `pnpm exec tsc` ã§ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª
2. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’èª­ã‚“ã§å•é¡Œã‚’ç‰¹å®š
3. å‹å®šç¾©ã‚„ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ã‚’ä¿®æ­£
4. å†åº¦ `pnpm exec tsc` ã§ç¢ºèª

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆ

1. `.next` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å‰Šé™¤: `rm -rf .next`
2. `pnpm exec tsc` ã§å‹ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª
3. ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£å¾Œã€å†åº¦ãƒ“ãƒ«ãƒ‰ã‚’è©¦è¡Œ

---

**é‡è¦**: ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ä¿®æ­£å¾Œã¯å¿…ãš `pnpm exec tsc` ã‚’å®Ÿè¡Œã—ã¦ã€TypeScriptã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

## OpenSpec ã‚³ãƒãƒ³ãƒ‰ï¼ˆã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆï¼‰

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®OpenSpecé‹ç”¨ã«ãŠã‘ã‚‹ä½œæ¥­ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã§ã™ã€‚

```bash
# å¤‰æ›´ææ¡ˆï¼ˆãƒ—ãƒ­ãƒãƒ¼ã‚¶ãƒ«ï¼‰ã®ä½œæˆãƒ»æ¤œè¨¼
/openspec-proposal

# ææ¡ˆã®é©ç”¨ï¼ˆå®Ÿè£…é–‹å§‹ãƒ»ã‚¿ã‚¹ã‚¯ç€æ‰‹ï¼‰
/openspec-apply

# ææ¡ˆã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®æ•´ç†ï¼‰
/openspec-archive
```

å®Ÿéš›ã®CLIæ“ä½œã¯ `openspec/AGENTS.md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼ˆ`openspec list`, `openspec validate --strict`, `openspec archive` ãªã©ï¼‰ã€‚
